{% extends "frontstage.html" %}
{% block head %}
{{ super() }}
{% endblock head %}

{% block title %}Issue List{% endblock title%}

{% block content %}

<!-- </form> -->



<br/>
<div class="container-xl">
  <form method="post" action={{ url_for('bookstore.viewissue') }}>
    <form  method='post' action={{ url_for('bookstore.viewissue.search') }} >
      <div class="row">
        <div class="col-sm-12">
          <button type="submit" class="btn btn-outline-primary register_btn">search</button>
          <button type="button" class="btn btn-outline-success" data-bs-toggle="modal" data-bs-target="{{ url_for('bookstore.new_issue') }}">New issue</button>
        </div>
      </div>
      <div class="row">
        <div class="col-sm-1" style="text-align: right;">TaskOwner:</div>
        <div class="col-sm-3">
          <select class="form-control" name="select_taskowner_viewissue_search" action={{ url_for('bookstore.search_filter', action=get_all_member) }}></select>        
        </div>
        <div class="col-sm-1" style="text-align: right;">Status:</div>
        <div class="col-sm-3">
          <select class="form-control" name="select_status_viewissue_search">
            <option value="all">all</option>
            <option value="open">open</option>
            <option value="inprogress">inprogress</option>
            <option value="review">review</option>
            <option value="close">close</option>
          </select>
        </div>
        <div class="col-sm-1" style="text-align: right;">Keyword:</div>
        <div class="col-sm-3">
          <input name="input_keyword_viewissue_search" class="form-control me-2" type="search" placeholder="type in your keyword..." aria-label="Search">
        </div>
      </div>
    </form>
    <br />
    <table class="table table-bordered">
      <tr>
        <th><center>Fuction</center></th>
        <th><center>taskID</center></th>
        <th><center>title</center></th>
        <th><center>Status</center></th>
        <th><center>taskOwner</center></th>        
        <th><center>dueDate</center></th>
      </tr>
      {% for i in issue_list %}
      <tr>
        <td width="20%">
          <center>
            <button type="button" class="btn btn-outline-success" data-bs-toggle="modal" data-bs-target="{{ url_for('bookstore.render_issue', id={{i.taskId}}) }}">
              View Detail
            </button>
          </center>
        </td>
        <td> <center>{{ i.taskId }}</center></td>
        <td> <center>{{ i.title }}</center></td>
        <td> <center>{{ i.status }}</center></td>
        <td> <center>{{ i.taskOwner }}</center></td>
        <td> <center>{{ i.dueDate }}</center></td>
      </tr>
      {% endfor %}
    </table>

  </form>
</div>

{% endblock content %}

